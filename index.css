:root {
  --theme-accent: #14b8a6;
  --theme-accent-rgb: 20 184 166;
  --tone-slider-track: #4b5563;
}

.toolbar-toggle-button {
  border: 1px solid transparent;
  background: #262626;
  color: #a3a3a3;
}

.toolbar-toggle-button:hover {
  background: #404040;
  border-color: #525252;
  color: #ffffff;
}

.toolbar-toggle-button--active {
  color: rgb(var(--theme-accent-rgb) / 0.95);
  background: rgb(var(--theme-accent-rgb) / 0.2);
  border-color: rgb(var(--theme-accent-rgb) / 0.55);
}

.toolbar-toggle-button--active:hover {
  background: rgb(var(--theme-accent-rgb) / 0.26);
  border-color: rgb(var(--theme-accent-rgb) / 0.7);
  color: #ffffff;
}

.toolbar-action-item {
  border: 1px solid transparent;
  color: #e5e5e5;
}

.toolbar-action-item:hover {
  background: #262626;
}

.toolbar-action-item--active {
  color: rgb(var(--theme-accent-rgb) / 0.95);
  background: rgb(var(--theme-accent-rgb) / 0.16);
  border-color: rgb(var(--theme-accent-rgb) / 0.4);
}

.toolbar-action-item--active:hover {
  background: rgb(var(--theme-accent-rgb) / 0.22);
  border-color: rgb(var(--theme-accent-rgb) / 0.55);
}

@supports (background: color-mix(in srgb, white 50%, transparent)) {
  .toolbar-toggle-button--active {
    color: color-mix(in srgb, var(--theme-accent) 70%, white);
    background: color-mix(in srgb, var(--theme-accent) 20%, transparent);
    border-color: color-mix(in srgb, var(--theme-accent) 55%, #111827 45%);
  }

  .toolbar-toggle-button--active:hover {
    background: color-mix(in srgb, var(--theme-accent) 26%, transparent);
    border-color: color-mix(in srgb, var(--theme-accent) 70%, #111827 30%);
  }

  .toolbar-action-item--active {
    color: color-mix(in srgb, var(--theme-accent) 68%, white);
    background: color-mix(in srgb, var(--theme-accent) 16%, transparent);
    border-color: color-mix(in srgb, var(--theme-accent) 45%, #111827 55%);
  }

  .toolbar-action-item--active:hover {
    background: color-mix(in srgb, var(--theme-accent) 22%, transparent);
    border-color: color-mix(in srgb, var(--theme-accent) 60%, #111827 40%);
  }
}

.tone-slider {
  position: relative;
  height: 18px;
  border-radius: 9999px;
  cursor: ew-resize;
  touch-action: none;
  user-select: none;
  transition: filter 140ms ease;
  outline: none;
  --value-pct: 50%;
  --precision-scale: 1;
}

.tone-slider:hover {
  filter: brightness(1.08);
}

.tone-slider__track,
.tone-slider__fill {
  position: absolute;
  left: 0;
  top: 50%;
  height: 2px;
  border-radius: 9999px;
  transform: translateY(-50%);
  pointer-events: none;
}

.tone-slider__track {
  width: 100%;
  background: var(--tone-slider-track);
}

.tone-slider__fill {
  width: var(--value-pct);
  background: var(--theme-accent);
}

.tone-slider__handle {
  position: absolute;
  left: var(--value-pct);
  top: 50%;
  width: 4px;
  height: 16px;
  border-radius: 2px;
  background: var(--theme-accent);
  box-shadow: 0 0 8px rgba(20, 184, 166, 0.35);
  transform: translate(-50%, -50%)
    scaleY(calc(1 + (1 - var(--precision-scale)) * 0.45));
  transform-origin: center;
  transition: transform 120ms ease, box-shadow 120ms ease, width 120ms ease;
  pointer-events: none;
}

.tone-slider:hover .tone-slider__handle {
  width: 5px;
}

.tone-slider:active .tone-slider__handle {
  width: 6px;
}

.tone-slider:focus-visible {
  box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.25);
}

.window-bbox {
  position: absolute;
  pointer-events: none;
  box-sizing: border-box;
  border-width: 0.15rem;
  border-radius: 2px;
  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.35);
}

.window-bbox--display {
  z-index: 13;
  border-style: solid;
  border-color: rgba(45, 212, 191, 0.2);
}

.window-bbox--data {
  z-index: 14;
  border-style: dashed;
  border-color: rgba(250, 204, 21, 0.4);
}

/* ── Sequence scrubber ──────────────────────────────────────────────── */
.sequence-scrubber {
  -webkit-appearance: none;
  appearance: none;
  display: block;
  height: 4px;
  background: transparent;
  outline: none;
  padding: 0;
  margin: 2px 0;
}

/* Track */
.sequence-scrubber::-webkit-slider-runnable-track {
  height: 3px;
  border-radius: 9999px;
  background: #404040;
}
.sequence-scrubber::-moz-range-track {
  height: 3px;
  border-radius: 9999px;
  background: #404040;
}

/* Thumb */
.sequence-scrubber::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 10px;
  height: 10px;
  border-radius: 9999px;
  background: var(--theme-accent);
  box-shadow: 0 0 6px rgba(20, 184, 166, 0.5);
  cursor: pointer;
  margin-top: -3.5px;
  transition: transform 100ms ease, box-shadow 100ms ease;
}
.sequence-scrubber::-moz-range-thumb {
  width: 10px;
  height: 10px;
  border: none;
  border-radius: 9999px;
  background: var(--theme-accent);
  box-shadow: 0 0 6px rgba(20, 184, 166, 0.5);
  cursor: pointer;
  transition: transform 100ms ease, box-shadow 100ms ease;
}

.sequence-scrubber:hover::-webkit-slider-thumb,
.sequence-scrubber:active::-webkit-slider-thumb {
  transform: scale(1.3);
  box-shadow: 0 0 10px rgba(20, 184, 166, 0.7);
}
.sequence-scrubber:hover::-moz-range-thumb,
.sequence-scrubber:active::-moz-range-thumb {
  transform: scale(1.3);
  box-shadow: 0 0 10px rgba(20, 184, 166, 0.7);
}
